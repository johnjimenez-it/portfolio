<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>John Jimenez – Portfolio</title>

  <!-- Meta / SEO -->
  <meta name="description" content="John Jimenez — Senior IT student focused on data analytics, automation, and clean UX. Explore projects, experience, and contact details." />
  <meta name="keywords" content="John Jimenez, IT, Data Analytics, Automation, SharePoint, Power Automate, Excel, Power BI, Portfolio" />
  <meta property="og:title" content="John Jimenez - Portfolio" />
  <meta property="og:description" content="Senior IT student | Data Analytics Enthusiast | Automation Specialist" />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#0ea5e9" />

  <!-- Fonts performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <!-- Preload hero image to avoid CLS -->
  <link rel="preload" as="image" href="profile.jpg" imagesizes="(max-width: 768px) 150px, 150px" />

  <style>
    /* ---------- Base / Theme ---------- */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --primary: #1e90ff;
      --primary-dark: #0066cc;
      --secondary: #f8fafc;
      --accent: #10b981;
      --text: #0f172a;
      --text-light: #475569;
      --border: #e2e8f0;
      --card: #ffffff;
      --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --shadow: 0 5px 25px rgba(2, 6, 23, 0.08);
      --ring: 0 0 0 3px rgba(14,165,233,.35);
    }
    .dark {
      --secondary: #0b1220;
      --card: #0f172a;
      --text: #e2e8f0;
      --text-light: #94a3b8;
      --border: #1f2a44;
      --gradient: linear-gradient(135deg, #0ea5e9 0%, #7c3aed 100%);
      --shadow: 0 10px 30px rgba(0,0,0,0.35);
      --ring: 0 0 0 3px rgba(124,58,237,.35);
    }
    html { scroll-behavior: smooth; }
    body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, sans-serif; background: var(--secondary); color: var(--text); line-height: 1.6; overflow-x: hidden; transition: background .3s, color .3s; }

    /* Focus styles for a11y */
    :focus-visible { outline: none; box-shadow: var(--ring); border-radius: 8px; }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      * { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; scroll-behavior: auto !important; }
    }

    /* ---------- Header ---------- */
    .skip-link {
      position: absolute; left: 0; top: -40px; background: #111827; color: #fff; padding: .6rem 1rem; border-radius: 0 0 .5rem .5rem; z-index: 9999;
    }
    .skip-link:focus { top: 0; }

    header {
      background: var(--gradient); color: white; padding: .75rem 0; position: fixed; inset: 0 0 auto 0; z-index: 1000; backdrop-filter: blur(10px); box-shadow: 0 2px 20px rgba(0,0,0,0.1); transition: all .3s ease;
    }
    .header-content { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 1rem; gap: .75rem; }
    header h1 { font-size: 1.6rem; font-weight: 800; letter-spacing: .2px; }
    header h1 a { color: #fff; text-decoration: none; }

    .nav-buttons { display: flex; gap: .5rem; flex-wrap: wrap; align-items: center; }
    .btn {
      background: rgba(255,255,255,0.15); color: white; padding: .55rem .9rem; border: 2px solid rgba(255,255,255,0.3); border-radius: 999px; text-decoration: none; font-weight: 700; font-size: .9rem; transition: all .25s ease; backdrop-filter: blur(10px); position: relative; overflow: hidden;
    }
    .btn:hover, .btn.active { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0,0,0,0.2); background: rgba(255,255,255,0.25); border-color: rgba(255,255,255,0.5); }

    .toggle { border-radius: 999px; background: rgba(255,255,255,.15); border: 2px solid rgba(255,255,255,.3); color: #fff; padding: .5rem .9rem; cursor: pointer; font-weight: 800; }

    main { margin-top: 76px; }
    .container { max-width: 1200px; margin: 0 auto; padding: 2rem; }

    /* ---------- Hero ---------- */
    .hero { background: var(--gradient); color: white; padding: 4rem 0; text-align: center; position: relative; overflow: hidden; }
    .hero-content { position: relative; z-index: 2; max-width: 960px; margin: 0 auto; padding: 0 1.5rem; }
    .hero-inner { display: flex; flex-direction: column; align-items: center; gap: 2rem; }
    .hero-profile {
      width: 192px;
      height: 192px;
      border-radius: 50%;
      border: 6px solid rgba(255,255,255,0.35);
      object-fit: cover;
      object-position: center 38%;
      box-shadow: 0 25px 45px rgba(0,0,0,0.35);
      flex-shrink: 0;
    }
    .hero-text { max-width: 540px; text-align: center; }
    .hero h1 { font-size: 2.75rem; font-weight: 900; margin-bottom: .5rem; letter-spacing: .3px; }
    .hero-subtitle { font-size: 1.2rem; font-weight: 500; margin-bottom: 1.6rem; opacity: .95; }
    .hero-cta { display: inline-flex; gap: .8rem; flex-wrap: wrap; justify-content: center; }
    .cta-primary { background: var(--accent); color: white; padding: .9rem 1.4rem; border-radius: 999px; text-decoration: none; font-weight: 900; box-shadow: 0 10px 30px rgba(16,185,129,.3); transition: transform .2s ease, box-shadow .2s ease; }
    .cta-primary:hover { transform: translateY(-3px); box-shadow: 0 15px 40px rgba(16,185,129,.4); }
    .cta-secondary { background: transparent; color: white; padding: .9rem 1.4rem; border: 2px solid rgba(255,255,255,.3); border-radius: 999px; text-decoration: none; font-weight: 800; }
    .cta-secondary:hover { background: rgba(255,255,255,.1); border-color: rgba(255,255,255,.5); }

    /* ---------- Sections ---------- */
    section { margin-bottom: 2rem; background: var(--card); padding: 2rem; border-radius: 18px; box-shadow: var(--shadow); transition: transform .2s ease, box-shadow .2s ease; position: relative; overflow: hidden; border: 1px solid var(--border); }
    section:hover { transform: translateY(-3px); box-shadow: 0 15px 40px rgba(0,0,0,0.12); }
    h2 { font-size: 1.9rem; font-weight: 800; margin-bottom: 1.25rem; color: var(--text); position: relative; padding-bottom: .5rem; }
    h2::after { content: ''; position: absolute; left: 0; bottom: 0; width: 56px; height: 3px; background: var(--gradient); border-radius: 2px; }

    /* ---------- Experience ---------- */
    .xp-item { margin-bottom: 1.25rem; padding: 1rem; background: var(--secondary); border-radius: 12px; border-left: 4px solid var(--primary); display: grid; grid-template-columns: 1fr auto; gap: .75rem 1rem; align-items: start; }
    .xp-role { color: var(--primary); font-weight: 900; margin-bottom: .25rem; }
    .xp-dates { white-space: nowrap; color: var(--text-light); font-weight: 700; }
    .xp-bullets { margin-top: .35rem; color: var(--text-light); }
    .xp-bullets li { margin-left: 1.1rem; }

    /* ---------- Projects Grid ---------- */
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.25rem; }
    .project-card { background: var(--card); border-radius: 14px; border: 1px solid var(--border); overflow: hidden; box-shadow: 0 5px 20px rgba(0,0,0,.08); transition: transform .2s ease, box-shadow .2s ease; }
    .project-card:hover { transform: translateY(-6px); box-shadow: 0 16px 36px rgba(0,0,0,.15); }
    .project-card img { width: 100%; height: 190px; object-fit: cover; display:block; }
    .project-card-illustration {
      height: 190px;
      width: 100%;
      background: radial-gradient(circle at 20% 20%, rgba(255,255,255,0.25) 0, rgba(255,255,255,0) 55%),
                  linear-gradient(135deg, rgba(14,165,233,0.85) 0%, rgba(124,58,237,0.85) 100%);
    }
    .project-card-content { padding: 1rem; }
    .project-actions { display: flex; gap: .5rem; margin-top: .75rem; flex-wrap: wrap; }
    .chip { display: inline-block; padding: .35rem .7rem; border-radius: 999px; background: var(--secondary); color: var(--text-light); font-weight: 800; font-size: .8rem; border: 1px solid var(--border); }

    /* ---------- Skills ---------- */
    .skills-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(230px, 1fr)); gap: 1rem; }
    .skill-category ul, .xp-bullets { padding-left: 1.15rem; }
    .skill-category li { margin-bottom: .35rem; }
    .skill-category { background: var(--secondary); padding: 1rem; border-radius: 12px; border-left: 4px solid var(--accent); }
    .skill-category h3 { margin-bottom: .6rem; }

    /* ---------- Contact ---------- */
    .contact-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1rem; }
    .contact-item { background: var(--secondary); padding: 1rem; border-radius: 12px; text-align: center; transition: transform .2s; }
    .contact-form-card { grid-column: span 2; }
    .contact-item:hover { transform: translateY(-3px); }
    .contact-item a { color: var(--primary); font-weight: 800; text-decoration: none; }
    .contact-icons { display:flex; gap:.75rem; justify-content:center; align-items:center; margin-top:.5rem; }
    .contact-icons img { width:24px; height:24px; }

    footer { background: var(--gradient); color: white; text-align: center; padding: 1.5rem; margin-top: 2rem; }

    /* ---------- Utilities ---------- */
    .fade-in { opacity: 0; transform: translateY(24px); transition: all .6s ease; }
    .visible { opacity: 1; transform: translateY(0); }

    /* ---------- Responsive ---------- */
    @media (max-width: 768px) {
      header { padding: .5rem 0; }
      .header-content { flex-direction: column; gap: .45rem; align-items: flex-start; padding: 0 1rem .35rem; width: 100%; }
      .nav-buttons { justify-content: flex-start; flex-wrap: nowrap; overflow-x: auto; padding: .2rem 0 .4rem; margin: 0 -0.25rem; gap: .4rem; -webkit-overflow-scrolling: touch; scrollbar-width: none; }
      .nav-buttons::-webkit-scrollbar { display: none; }
      .nav-buttons > * { flex: 0 0 auto; }
      .hero { padding: 2.75rem 0 2.5rem; }
      .hero-inner { gap: 1.5rem; }
      .hero-profile { width: 168px; height: 168px; object-position: center 44%; }
      .hero h1 { font-size: 2.2rem; }
      .hero-subtitle { font-size: 1rem; }
      .hero-cta a { width: 100%; text-align: center; }
      .container { padding: 1rem; }
      section { padding: 1.2rem; margin-bottom: 1.5rem; }
      .xp-item { grid-template-columns: 1fr; }
      .xp-dates { justify-self: start; }
      .contact-grid { grid-template-columns: 1fr; }
      .contact-item { text-align: left; }
      .contact-form-card { grid-column: auto; }
    }
    @media (max-width: 600px) {
      header { position: sticky; top: 0; }
    }
    @media (min-width: 769px) {
      .hero-inner { flex-direction: row; align-items: center; justify-content: center; text-align: left; }
      .hero-text { text-align: left; }
      .hero-cta { justify-content: flex-start; }
    }
      /* ---------- Mobile/Tap targets ---------- */
    img { max-width: 100%; height: auto; }
    input, textarea, button { font-size: 16px; min-height: 44px; }
    .btn, .cta-primary, .cta-secondary { min-height: 44px; }
    @media (max-width: 480px) {
      header h1 { font-size: 1.35rem; }
      .btn { padding: .7rem 1rem; flex: 0 0 auto; }
      .hero h1 { font-size: 1.85rem; }
      .hero-subtitle { font-size: .98rem; }
      .skills-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <a href="#main" class="skip-link">Skip to content</a>

  <header>
    <div class="header-content">
      <h1><a href="#" aria-label="Home">John Jimenez</a></h1>
      <nav class="nav-buttons" aria-label="Primary">
        <a href="#about" class="btn">About</a>
        <a href="#experience" class="btn">Experience</a>
        <a href="#projects" class="btn">Projects</a>
        <a href="case-studies.html" class="btn">Case Studies</a>
        <a href="class-projects.html" class="btn">Class Projects</a>
        <a href="#contact" class="btn">Contact</a>
        <button id="themeToggle" class="toggle" type="button" aria-label="Toggle dark mode" title="Toggle theme">☾</button>
      </nav>
    </div>
  </header>

  <main id="main">
    <section class="hero">
      <div class="hero-content">
        <div class="hero-inner">
          <img src="profile.jpg" width="170" height="170" alt="Portrait of John Jimenez" class="hero-profile" />
          <div class="hero-text">
            <h1>John Jimenez</h1>
            <p class="hero-subtitle">Senior IT Student • Data Analytics Enthusiast • Automation Specialist</p>
            <div class="hero-cta">
              <a href="#projects" class="cta-primary">View My Work</a>
              <a href="#contact" class="cta-secondary">Get In Touch</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="container">
      <!-- Education -->
      <section class="fade-in" aria-labelledby="edu-title">
        <h2 id="edu-title">Education</h2>
        <div style="background: var(--secondary); padding: 1.25rem; border-radius: 12px; border-left: 4px solid var(--accent);">
          <h3 style="margin-bottom:.25rem;">Florida State University</h3>
          <p><strong>B.S. in Information Technology</strong> | <strong>Minor:</strong> Business Administration</p>
          <p><strong>GPA:</strong> 3.8 • <strong>Expected Graduation:</strong> May 2026</p>
        </div>
      </section>

      <!-- Skills -->
      <section class="fade-in" aria-labelledby="skills-title">
        <h2 id="skills-title">Technical Skills</h2>
        <div class="skills-grid">
          <div class="skill-category">
            <h3>Programming Languages</h3>
            <ul>
              <li>HTML &amp; CSS</li><li>JavaScript</li><li>Bash</li><li>MySQL</li><li>VBA</li>
            </ul>
          </div>
          <div class="skill-category">
            <h3>Design &amp; UX</h3>
            <ul>
              <li>Figma</li><li>Miro</li><li>Uizard</li><li>Canva</li>
            </ul>
          </div>
          <div class="skill-category">
            <h3>Automation &amp; Analytics</h3>
            <ul>
              <li>SharePoint</li><li>Power Automate</li><li>Excel Macros</li><li>Power BI</li><li>Monday.com</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Recognition -->
      <section class="fade-in" aria-labelledby="awards-title">
        <h2 id="awards-title">Recognition &amp; Certifications</h2>
        <div class="skills-grid">
          <div class="skill-category" style="border-left-color: var(--primary)">
            <h3>Academic Honors</h3>
            <ul>
              <li>Dean's List (multiple semesters)</li>
              <li>HITEC Scholar</li>
              <li>Institute for Civic Engagement &amp; Democracy Honors</li>
              <li>Communicating with Confidence Award</li>
            </ul>
          </div>
          <div class="skill-category" style="border-left-color: var(--primary)">
            <h3>Professional Certifications</h3>
            <ul>
              <li>CompTIA ITF+ (June 2021)</li>
              <li>Monday.com Training Certificate (June 2024)</li>
            </ul>
          </div>
          <div class="skill-category" style="border-left-color: var(--primary)">
            <h3>Leadership &amp; Involvement</h3>
            <ul>
              <li>CARE Program Scholar</li>
              <li>SSS‑STEM</li>
              <li>Florida‑Georgia LSAMP</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- About -->
      <section id="about" class="fade-in" aria-labelledby="about-title">
        <h2 id="about-title">About Me</h2>
        <p style="font-size: 1.05rem; color: var(--text-light); margin-bottom: .75rem;">
          I’m a senior IT student at Florida State University with a passion for simplifying complexity through automation, analytics, and thoughtful design.
        </p>
        <p style="font-size: 1.05rem; color: var(--text-light);">
          Across public‑sector internships, I’ve shipped dashboards, streamlined SharePoint processes, and translated messy data into clear decisions.
        </p>
      </section>

      <!-- Experience -->
      <section id="experience" class="fade-in" aria-labelledby="exp-title">
        <h2 id="exp-title">Professional Experience</h2>

        <div class="xp-item">
          <div>
            <div class="xp-role">Business Solutions & Data Analytics Intern — Miami‑Dade CITT</div>
            <p>Built Excel-based trackers and dashboards for surtax-funded municipal transit projects; generated insights for monthly meetings and improved documentation.</p>
            <ul class="xp-bullets">
              <li>Created contract-payment controls preventing over-billing across POs.</li>
              <li>Standardized monthly reporting with reusable Excel/Power BI templates.</li>
            </ul>
          </div>
          <div class="xp-dates">May 2025–Present</div>
        </div>

        <div class="xp-item">
          <div>
            <div class="xp-role">IT Automation & Project Management Intern — Miami‑Dade Strategic Procurement</div>
            <p>Created automated testing dashboards, streamlined SharePoint workflows, and built a bug tracking system improving visibility and response times.</p>
            <ul class="xp-bullets">
              <li>Built a regression test tracker with macros and visual status chips.</li>
              <li>Automated Planner/SharePoint flows to route issues and notify owners.</li>
            </ul>
          </div>
          <div class="xp-dates">May–Sep 2024</div>
        </div>

        <div class="xp-item">
          <div>
            <div class="xp-role">IT Privacy & Compliance Intern — FSU Information Security</div>
            <p>Conducted SOC 2 vendor assessments and produced materials on third‑party risk using NIST & COSO frameworks to level‑up security awareness.</p>
            <ul class="xp-bullets">
              <li>Mapped vendor controls to NIST CSF, improving review consistency.</li>
              <li>Designed awareness poster used by 3+ internal teams.</li>
            </ul>
          </div>
          <div class="xp-dates">Sep 2023–May 2024</div>
        </div>
      </section>

      <!-- Projects -->
      <section id="projects" class="fade-in" aria-labelledby="proj-title">
        <h2 id="proj-title">Featured Projects</h2>
        <div class="grid">
          <div class="project-card">
            <img src="ITS poster 2024-04-09 18_12_33-1.png" alt="Poster summarizing third‑party vendor risk" width="640" height="190" loading="lazy" />
            <div class="project-card-content">
              <h3>Third‑Party Vendor Risk Assessment</h3>
              <p>Poster communicating vendor risk evaluations at FSU aligned to NIST & SOC 2 controls.</p>
              <div class="project-actions">
                <span class="chip">NIST</span><span class="chip">SOC 2</span>
              </div>
            </div>
          </div>

          <div class="project-card">
            <img src="b7e22824-255e-471d-b768-efcd92ba7d51.png" alt="Screenshot of an Excel regression test dashboard" width="640" height="190" loading="lazy" />
            <div class="project-card-content">
              <h3>Automated Test Dashboard</h3>
              <p>Dynamic regression testing tracker with interactive charts for Strategic Procurement.</p>
              <div class="project-actions">
                <span class="chip">Excel</span><span class="chip">Automation</span>
              </div>
            </div>
          </div>

          <div class="project-card">
            <div class="project-card-illustration" role="presentation" aria-hidden="true"></div>
            <div class="project-card-content">
              <h3>Contract Payment Management</h3>
              <p>Excel-based system to monitor contractor invoices & hours against purchase orders.</p>
              <div class="project-actions">
                <span class="chip">Analytics</span><span class="chip">Reporting</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Contact -->
      <section id="contact" class="fade-in" aria-labelledby="contact-title">
        <h2 id="contact-title">Let's Connect</h2>
        <div class="contact-grid">
          <div class="contact-item">
            <h3>Email</h3>
            <a href="mailto:Jimenezjohn2529@gmail.com">Jimenezjohn2529@gmail.com</a>
          </div>
          <div class="contact-item">
            <h3>Phone</h3>
            <a href="tel:786-805-3970">786-805-3970</a>
          </div>
          <div class="contact-item">
            <h3>LinkedIn</h3>
            <a href="https://www.linkedin.com/in/john--jimenez" target="_blank" rel="noopener">john--jimenez</a>
            <div class="contact-icons"><img src="linkedin_icon.png" alt="LinkedIn" width="24" height="24" loading="lazy"></div>
          </div>
          <div class="contact-item">
            <h3>GitHub</h3>
            <a href="https://github.com/johnjimenez-it" target="_blank" rel="noopener">johnjimenez-it</a>
            <div class="contact-icons"><img src="github-mark.png" alt="GitHub" width="24" height="24" loading="lazy"></div>
          </div>
          <div class="contact-item">
            <h3>Website</h3>
            <a href="https://torch.cci.fsu.edu/~jj22e/" target="_blank" rel="noopener">torch.cci.fsu.edu/~jj22e</a>
          </div>

          <!-- Keep same Formspree endpoint and field names -->
          <div class="contact-item contact-form-card">
            <h3>Send Me a Message</h3>
            <form id="contactForm" action="https://formspree.io/f/mblkpqae" method="POST" style="display: grid; gap: .6rem; max-width: 420px; margin: auto;">
              <input type="text" name="name" placeholder="Your Name" aria-label="Your Name" required style="padding: .65rem; border-radius: 8px; border: 1px solid var(--border); background: var(--card); color: var(--text);" />
              <input type="email" name="email" placeholder="Your Email" aria-label="Your Email" required style="padding: .65rem; border-radius: 8px; border: 1px solid var(--border); background: var(--card); color: var(--text);" />
              <textarea name="message" placeholder="Your Message" aria-label="Your Message" rows="5" required style="padding: .65rem; border-radius: 8px; border: 1px solid var(--border); background: var(--card); color: var(--text);"></textarea>
              <button type="submit" style="padding: .8rem; border-radius: 10px; background: var(--primary); color: white; border: none; cursor: pointer; font-weight: 900;">Send</button>
              <p id="formStatus" role="status" style="display:none; font-weight:800;"></p>
            </form>
          </div>
        </div>
      </section>
    </div>
  </main>

  <footer>
    <p>© 2025 John Jimenez • Crafted with passion and precision</p>
    <p style="margin-top:.5rem; opacity:.9;">
      <a href="mailto:Jimenezjohn2529@gmail.com" style="color:#fff; text-decoration:none;">Email</a> |
      <a href="https://torch.cci.fsu.edu/~jj22e/" target="_blank" rel="noopener" style="color:#fff; text-decoration:none;">Website</a> |
      <a href="https://github.com/johnjimenez-it" target="_blank" rel="noopener" style="color:#fff; text-decoration:none;">GitHub</a>
    </p>
  </footer>

  <script>
    // Smooth scroll for internal links
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', (e) => {
        const target = document.querySelector(a.getAttribute('href'));
        if (target) {
          e.preventDefault();
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // IntersectionObserver animations
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('visible'); });
    }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });
    document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));

    // Header background on scroll
    window.addEventListener('scroll', () => {
      const header = document.querySelector('header');
      if (window.scrollY > 100) { header.style.background = 'rgba(102, 126, 234, 0.95)'; header.style.backdropFilter = 'blur(20px)'; }
      else { header.style.background = ''; header.style.backdropFilter = 'blur(10px)'; }
    });

    // Active section highlight in nav
    const sections = ['about','experience','projects','contact'];
    const navLinks = [...document.querySelectorAll('.nav-buttons a[href^="#"]')];
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          const id = e.target.id; navLinks.forEach(l=>l.classList.toggle('active', l.getAttribute('href') === '#' + id));
        }
      });
    }, { threshold:.6 });
    sections.forEach(id=>{ const el = document.getElementById(id); if(el) io.observe(el); });

    // Dark mode toggle (persists to localStorage)
    const toggle = document.getElementById('themeToggle');
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const stored = localStorage.getItem('jj-theme');
    if ((stored === 'dark') || (!stored && prefersDark)) document.documentElement.classList.add('dark');
    const setToggleState = () => {
      const isDark = document.documentElement.classList.contains('dark');
      toggle.textContent = isDark ? '☀' : '☾';
      toggle.setAttribute('aria-label', isDark ? 'Switch to light mode' : 'Switch to dark mode');
      toggle.setAttribute('title', isDark ? 'Switch to light mode' : 'Switch to dark mode');
    };
    toggle.addEventListener('click', () => {
      document.documentElement.classList.toggle('dark');
      const isDark = document.documentElement.classList.contains('dark');
      localStorage.setItem('jj-theme', isDark ? 'dark' : 'light');
      setToggleState();
    });
    setToggleState();

    // Formspree AJAX submit with inline success/error
    const form = document.getElementById('contactForm');
    const statusEl = document.getElementById('formStatus');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      statusEl.style.display = 'block';
      statusEl.style.color = 'var(--text)';
      statusEl.textContent = 'Sending...';
      const data = new FormData(form);
      try {
        const resp = await fetch(form.action, { method: 'POST', body: data, headers: { 'Accept': 'application/json' } });
        if (resp.ok) {
          statusEl.textContent = 'Thanks! Your message was sent.';
          statusEl.style.color = 'var(--accent)';
          form.reset();
        } else {
          statusEl.textContent = 'Oops, something went wrong. Try again or email me directly.';
          statusEl.style.color = '#ef4444';
        }
      } catch (err) {
        statusEl.textContent = 'Network error. Please try again.';
        statusEl.style.color = '#ef4444';
      }
    });

    // JSON-LD (schema.org Person)
    const person = {
      '@context': 'https://schema.org',
      '@type': 'Person',
      name: 'John Jimenez',
      url: 'https://torch.cci.fsu.edu/~jj22e/',
      sameAs: [
        'https://www.linkedin.com/in/john--jimenez',
        'https://github.com/johnjimenez-it'
      ],
      jobTitle: 'IT Student',
      alumniOf: { '@type': 'CollegeOrUniversity', name: 'Florida State University' },
      knowsAbout: ['Data Analytics','Automation','SharePoint','Power Automate','Excel','Power BI']
    };
    const ld = document.createElement('script');
    ld.type = 'application/ld+json';
    ld.textContent = JSON.stringify(person);
    document.head.appendChild(ld);
      // Dynamic main offset to handle multi-line mobile header
    function syncMainOffset(){
      const header = document.querySelector('header');
      const main = document.querySelector('main');
      if (header && main) { main.style.marginTop = header.offsetHeight + 'px'; }
    }
    syncMainOffset();
    window.addEventListener('load', syncMainOffset);
    window.addEventListener('resize', syncMainOffset);
  </script>
</body>
</html>
